<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SpyMaster Game</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

<!-- ================= TOP BAR ================= -->
<div class="topbar">
  <div class="left">
    <button class="pill" id="btnAdmin">Admin</button>
    <button class="pill" id="btnResetConn">↻</button>
  </div>
  <div class="right">
    <span class="pill ghost">Rules</span>
    <span class="pill ghost">Settings</span>
  </div>
</div>

<div class="layout">

<!-- ================= LEFT : BLUE TEAM ================= -->
<aside class="side">

  <!-- BLUE OPERATIVES -->
  <div class="teamPanel bluePanel">
    <div class="head">BLUE — OPERATIVES</div>
    <div class="content">
      <button class="joinBtn" id="joinBlueOps">JOIN TEAM</button>
    </div>
  </div>

  <div class="scoreRow">
    <div class="scoreNum blue" id="blueCount">8</div>
    <div class="miniCard" id="bluePlayers">No players</div>
  </div>

  <!-- BLUE SPYMASTER -->
  <div class="teamPanel bluePanel">
    <div class="head">BLUE — SPYMASTERS</div>
    <div class="content col">
      <button class="joinBtn" id="joinBlueSpy">JOIN TEAM</button>

      <div class="clueBox">
        <input id="clueWordBlue" type="text" placeholder="CLUE" />
        <input id="clueNumBlue" type="number" min="0" max="9" value="2" />
        <button id="btnSetClueBlue">SET</button>
      </div>

      <div class="clueLine" id="clueDisplayBlue">CLUE: —</div>

      <div class="btnRow">
        <button id="btnEndTurnBlue">END TURN</button>
        <button id="btnNewGameBlue">NEW GAME</button>
      </div>

      <div class="hint" id="turnHintBlue">—</div>
    </div>
  </div>

  <!-- ONLINE -->
  <div class="onlineBox">
    <div class="boxTitle">ONLINE</div>

    <div class="tabs">
      <button class="tab active" id="tabLocal">Local</button>
      <button class="tab" id="tabWs">WebSocket</button>
    </div>

    <div id="localBox">
      <input id="roomCode" placeholder="ROOM CODE (ex: ABCD)" />
      <div class="btnRow tight">
        <button id="btnConnectLocal">CONNECT</button>
        <button id="btnDisconnect">DISCONNECT</button>
      </div>
      <div class="small">Local = plusieurs onglets sur le même PC</div>
    </div>

    <div id="wsBox" class="hide">
      <input id="wsUrl" placeholder="ws://localhost:8080" />
      <input id="wsRoom" placeholder="ROOM CODE" />
      <div class="btnRow tight">
        <button id="btnConnectWs">CONNECT</button>
        <button id="btnDisconnect2">DISCONNECT</button>
      </div>
      <div class="small">WebSocket = amis sur d’autres PC</div>
    </div>
  </div>

</aside>

<!-- ================= CENTER ================= -->
<section class="center" id="center">

  <div class="title" id="titleText">RED TEAM NEEDS A SPYMASTER</div>

  <div class="roleLine">
    <span class="rolePill" id="meRole">You: Spectator</span>
    <span class="rolePill" id="connStatus">Offline</span>
    <span class="rolePill" id="hostStatus">—</span>
  </div>

  <div class="board" id="board"></div>

  <div class="hint">
    Operatives : cliquez pour révéler — Spymaster : voit toutes les couleurs
  </div>

  <!-- WORD MASTER -->
  <div class="wordmasterPanel" id="wordmasterPanel">
    <div class="wmTitle">WORD MASTER</div>
    <div class="wmSub">Le 5ᵉ joueur choisit les 25 mots</div>

    <div class="wmJoinRow">
      <button class="joinBtn wm" id="joinWordMaster">JOIN AS WORD MASTER</button>
      <button class="btnSmall" id="btnOpenWords">WORDS</button>
    </div>

    <div class="wmBox hide" id="wmBox">
      <textarea id="wmWords" placeholder="1 mot par ligne ou virgule"></textarea>

      <div class="btnRow">
        <button class="btnSmall" id="btnPick25">PICK 25 RANDOM</button>
        <button class="btnSmall" id="btnUseSelected">USE SELECTED 25</button>
      </div>

      <div class="small" id="wmInfo">0 mots détectés</div>
      <div class="pickGrid" id="pickGrid"></div>
    </div>
  </div>

</section>

<!-- ================= RIGHT : RED TEAM ================= -->
<aside class="side">

  <!-- RED OPERATIVES -->
  <div class="teamPanel redPanel">
    <div class="head">RED — OPERATIVES</div>
    <div class="content">
      <button class="joinBtn" id="joinRedOps">JOIN TEAM</button>
    </div>
  </div>

  <div class="scoreRow">
    <div class="miniCard" id="redPlayers">No players</div>
    <div class="scoreNum red" id="redCount">9</div>
  </div>

  <!-- RED SPYMASTER (COPIE DU BLEU) -->
  <div class="teamPanel redPanel">
    <div class="head">RED — SPYMASTERS</div>
    <div class="content col">
      <button class="joinBtn" id="joinRedSpy">JOIN TEAM</button>

      <div class="clueBox">
        <input id="clueWordRed" type="text" placeholder="CLUE" />
        <input id="clueNumRed" type="number" min="0" max="9" value="2" />
        <button id="btnSetClueRed">SET</button>
      </div>

      <div class="clueLine" id="clueDisplayRed">CLUE: —</div>

      <div class="btnRow">
        <button id="btnEndTurnRed">END TURN</button>
        <button id="btnNewGameRed">NEW GAME</button>
      </div>

      <div class="hint" id="turnHintRed">—</div>
    </div>
  </div>

</aside>

</div>

<script src="app.js"></script>
</body>
</html>
